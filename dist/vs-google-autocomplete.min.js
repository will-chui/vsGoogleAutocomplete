!function(a,b){"use strict";!function(a,b){angular.module("vsGoogleAutocomplete",[]),angular.module("vsGoogleAutocomplete").factory("vsGooglePlaceUtility",function(){function a(a){return!!a&&!!a.place_id}function b(b,c){var d,e;if(!a(b))return!1;d=b.types;for(var f=0;f<c.length;f++){e=c[f];for(var g=0;g<d.length;g++)if(d[g]===e)return!0}return!1}function c(b,c){if(a(b))for(var d=0;d<b.address_components.length;d++){var e=b.address_components[d].types[0];if(c[e])return b.address_components[d][c[e]]}}function d(b){if(a(b))return b.place_id}function e(a){return c(a,{street_number:"short_name"})}function f(a){return c(a,{route:"long_name"})}function g(a){return c(a,{locality:"long_name"})}function h(a){return c(a,{administrative_area_level_1:"short_name"})}function i(a){return c(a,{administrative_area_level_2:"short_name"})}function j(a){return c(a,{country:"short_name"})}function k(a){return c(a,{country:"long_name"})}function l(a){return c(a,{postal_code:"long_name"})}function m(a){return angular.isObject(a)&&angular.isObject(a.geometry)}function n(a){if(m(a))return a.geometry.location.lat()}function o(a){if(m(a))return a.geometry.location.lng()}return{isGooglePlace:a,isContainTypes:b,getPlaceId:d,getStreetNumber:e,getStreet:f,getCity:g,getState:h,getCountryShort:j,getCountry:k,getLatitude:n,getLongitude:o,getPostCode:l,getDistrict:i}}),angular.module("vsGoogleAutocomplete").directive("vsGoogleAutocomplete",["vsGooglePlaceUtility","$timeout",function(a,c){return{restrict:"A",require:["vsGoogleAutocomplete","ngModel"],scope:{vsGoogleAutocomplete:"=",vsPlace:"=?",vsPlaceId:"=?",vsStreetNumber:"=?",vsStreet:"=?",vsCity:"=?",vsState:"=?",vsCountryShort:"=?",vsCountry:"=?",vsPostCode:"=?",vsLatitude:"=?",vsLongitude:"=?",vsDistrict:"=?"},controller:["$scope","$attrs",function(b,c){this.isolatedScope=b,this.updatePlaceComponents=function(d){b.vsPlaceId=c.vsPlaceId&&d?a.getPlaceId(d):void 0,b.vsStreetNumber=c.vsStreetNumber&&d?a.getStreetNumber(d):void 0,b.vsStreet=c.vsStreet&&d?a.getStreet(d):void 0,b.vsCity=c.vsCity&&d?a.getCity(d):void 0,b.vsPostCode=c.vsPostCode&&d?a.getPostCode(d):void 0,b.vsState=c.vsState&&d?a.getState(d):void 0,b.vsCountryShort=c.vsCountryShort&&d?a.getCountryShort(d):void 0,b.vsCountry=c.vsCountry&&d?a.getCountry(d):void 0,b.vsLatitude=c.vsLatitude&&d?a.getLatitude(d):void 0,b.vsLongitude=c.vsLongitude&&d?a.getLongitude(d):void 0,b.vsDistrict=c.vsDistrict&&d?a.getDistrict(d):void 0}}],link:function(a,d,e,f){var g,h,i=f[0],j=f[1],k=a.vsGoogleAutocomplete||{},l=new google.maps.places.Autocomplete(d[0],k);google.maps.event.addListener(l,"place_changed",function(){g=l.getPlace(),h=g.formatted_address||j.$viewValue,a.$apply(function(){a.vsPlace=g,i.updatePlaceComponents(g),j.$setViewValue(h),j.$render()})}),d.on("blur",function(d){if(0===b.querySelectorAll(".pac-item:hover").length){d.stopImmediatePropagation(),d.preventDefault(),g=l.getPlace(),g&&g.formatted_address!=d.target.value&&(a.vsPlaceId="",a.vsStreetNumber="",a.vsStreet="",a.vsCity="",a.vsState="",a.vsCountryShort="",a.vsPostCode="");var e=b.querySelectorAll(".pac-container")[0];e&&(e.style.display="none")}else h=g&&g.formatted_address?h:j.$viewValue,c(function(){a.$apply(function(){j.$setViewValue(h),j.$render()})})}),google.maps.event.addDomListener(d[0],"keydown",function(a){13==a.keyCode&&a.preventDefault()})}}}])}(0,b)}(window,document);